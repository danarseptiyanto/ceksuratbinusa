import{u as j,b as y,j as a,H as v,L as k,r as P}from"./app-DaCAcne9.js";import{A as _,e as M}from"./AppLayout-DQv3LwyO.js";import{L as o}from"./label-Cw_RS3_X.js";import{I as u}from"./input-SBWSJN7Z.js";import{B as m}from"./button-CsUOHxr0.js";import{c as h,d as l,e as d,g as w,P as N,a as S,f as p,b as F,C as W}from"./popover-6LzLOqRf.js";import{c as D}from"./utils-BwzW_0v4.js";import{E as A}from"./eye-CqHeU0xg.js";import{T as C}from"./trash-2-C0eyjFwT.js";import{L as K}from"./loader-circle-BwfgFqvP.js";import"./card-V1tH1BVQ.js";import"./index-C3kuVusl.js";import"./index-DGLmiykt.js";import"./dropdown-menu-svJtJLTu.js";import"./createLucideIcon-skvgdqmh.js";import"./FlashMessage-CkkBGoU_.js";const E={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},H=(e,n,s)=>{let i;const t=E[e];return typeof t=="string"?i=t:n===1?i=t.one:i=t.other.replace("{{count}}",n.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"dalam waktu "+i:i+" yang lalu":i},L={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},J={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},O={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T={date:h({formats:L,defaultWidth:"full"}),time:h({formats:J,defaultWidth:"full"}),dateTime:h({formats:O,defaultWidth:"full"})},R={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},V=(e,n,s,i)=>R[e],X={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},z={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},B={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},Y={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},q={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},I={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},$=(e,n)=>"ke-"+Number(e),Q={ordinalNumber:$,era:l({values:X,defaultWidth:"wide"}),quarter:l({values:z,defaultWidth:"wide",argumentCallback:e=>e-1}),month:l({values:B,defaultWidth:"wide"}),day:l({values:Y,defaultWidth:"wide"}),dayPeriod:l({values:q,defaultWidth:"wide",formattingValues:I,defaultFormattingWidth:"wide"})},U=/^ke-(\d+)?/i,G=/\d+/i,Z={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},aa={any:[/^s/i,/^(m|e)/i]},ea={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},ta={any:[/1/i,/2/i,/3/i,/4/i]},ra={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},na={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},sa={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},ia={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},oa={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},ma={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},la={ordinalNumber:w({matchPattern:U,parsePattern:G,valueCallback:e=>parseInt(e,10)}),era:d({matchPatterns:Z,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),quarter:d({matchPatterns:ea,defaultMatchWidth:"wide",parsePatterns:ta,defaultParseWidth:"any",valueCallback:e=>e+1}),month:d({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),day:d({matchPatterns:sa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any"}),dayPeriod:d({matchPatterns:oa,defaultMatchWidth:"any",parsePatterns:ma,defaultParseWidth:"any"})},da={code:"id",formatDistance:H,formatLong:T,formatRelative:V,localize:Q,match:la,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Na({suratMasuk:e}){const{data:n,setData:s,post:i,errors:t,processing:c}=j({_method:"PUT",nomor_surat:e.nomor_surat||"",nama_surat:e.nama_surat||"",asal_surat:e.asal_surat||"",tanggal_surat:e.tanggal_surat||"",pdf_file:null}),[f,g]=y.useState(!1);function b(r){r.preventDefault(),i(route("surat-masuk.update",e.id),{preserveScroll:!0})}function x(r){r.preventDefault(),confirm("Anda yakin ingin menghapus file PDF yang terlampir?")&&P.delete(route("surat-masuk.deleteFile",e.id),{preserveScroll:!0})}return a.jsxs(_,{header:`Edit Arsip: ${e.nama_surat}`,children:[a.jsx(v,{title:"Edit Arsip Surat Masuk"}),a.jsxs("div",{className:"mx-auto max-w-2xl p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Formulir Edit Arsip"}),a.jsx("p",{className:"text-muted-foreground",children:"Perbarui detail data arsip surat masuk."})]}),a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"nomor_surat",children:"Nomor Surat"}),a.jsx(u,{id:"nomor_surat",type:"text",value:n.nomor_surat,onChange:r=>s("nomor_surat",r.target.value),className:t.nomor_surat?"border-red-500":""}),t.nomor_surat&&a.jsx("p",{className:"text-sm text-red-600",children:t.nomor_surat})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"nama_surat",children:"Nama/Perihal Surat"}),a.jsx(u,{id:"nama_surat",type:"text",value:n.nama_surat,onChange:r=>s("nama_surat",r.target.value),className:t.nama_surat?"border-red-500":""}),t.nama_surat&&a.jsx("p",{className:"text-sm text-red-600",children:t.nama_surat})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"asal_surat",children:"Asal Surat"}),a.jsx(u,{id:"asal_surat",type:"text",value:n.asal_surat,onChange:r=>s("asal_surat",r.target.value),className:t.asal_surat?"border-red-500":""}),t.asal_surat&&a.jsx("p",{className:"text-sm text-red-600",children:t.asal_surat})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{children:"Tanggal Surat"}),a.jsxs(N,{open:f,onOpenChange:g,children:[a.jsx(S,{asChild:!0,children:a.jsxs(m,{variant:"outline",className:D("w-full justify-start text-left font-normal",!n.tanggal_surat&&"text-muted-foreground",t.tanggal_surat&&"border-red-500"),children:[a.jsx(M,{className:"mr-2 h-4 w-4"}),n.tanggal_surat?p(new Date(n.tanggal_surat),"PPP",{locale:da}):a.jsx("span",{children:"Pilih tanggal"})]})}),a.jsx(F,{className:"w-auto p-0",children:a.jsx(W,{mode:"single",selected:n.tanggal_surat?new Date(n.tanggal_surat):void 0,onSelect:r=>{s("tanggal_surat",r?p(r,"yyyy-MM-dd"):""),g(!1)},initialFocus:!0})})]}),t.tanggal_surat&&a.jsx("p",{className:"text-sm text-red-600",children:t.tanggal_surat})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Manajemen File PDF"}),e.file_path?a.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/50 p-3",children:[a.jsx("p",{className:"text-sm font-medium",children:"File saat ini terlampir."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:`/storage/${e.file_path}`,target:"_blank",rel:"noopener noreferrer",children:a.jsxs(m,{type:"button",variant:"outline",size:"sm",children:[a.jsx(A,{className:"mr-2 h-4 w-4"}),"Lihat File"]})}),a.jsxs(m,{type:"button",variant:"destructive",size:"sm",onClick:x,children:[a.jsx(C,{className:"mr-2 h-4 w-4"}),"Hapus File"]})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada file yang terlampir."}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(o,{htmlFor:"pdf_file",children:"Upload File Baru (Opsional)"}),a.jsx(u,{id:"pdf_file",type:"file",accept:".pdf",onChange:r=>s("pdf_file",r.target.files[0]),className:t.pdf_file?"border-red-500":""}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Mengunggah file baru akan menggantikan file yang lama (jika ada)."}),t.pdf_file&&a.jsx("p",{className:"text-sm text-red-600",children:t.pdf_file})]})]}),a.jsxs("div",{className:"mt-8 flex items-center justify-end gap-4",children:[a.jsx(k,{href:route("surat-masuk.index"),children:a.jsx(m,{type:"button",variant:"outline",children:"Batal"})}),a.jsx(m,{type:"submit",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(K,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})]})]})}export{Na as default};
